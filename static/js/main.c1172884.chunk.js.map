{"version":3,"sources":["components/btn_google_light_normal_ios.svg","components/GoogleLoginButton.jsx","views/Homepage.jsx","views/Redirect.jsx","utils/state.js","utils/lang.js","App.jsx","index.js"],"names":["GoogleLoginButton","props","oauthInitUrl","oauthRequestParams","toString","console","log","href","className","id","type","name","style","background","GoogleButtonBackground","i18n","t","Homepage","TokenGenerationSnippet","baseUrl","window","location","replace","curlSnippet","oauthCode","rows","cols","Redirect","encodedState","oauthResponseParams","get","state","JSON","parse","atob","shopRedirectUri","redirectParams","URLSearchParams","set","returnUrl","systemRedirectUri","LanguageDetector","init","services","detectorOptions","i18nextOptions","detect","i","language","nav","navigator","browserLanguagePropertyKeys","Array","isArray","languages","length","getFirstBrowserLanguage","cacheUserLanguage","lng","resources","de","translation","translationDE","en","translationEN","es","translationES","nl","translationNL","_oauthRequestParams","queryString","search","urlParams","accessType","redirectUri","btoa","stringify","App","use","initReactI18next","_oauthResponseParams","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1172884.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/btn_google_light_normal_ios.9db6a818.svg\";","import './GoogleLoginButton.css';\nimport GoogleButtonBackground from './btn_google_light_normal_ios.svg';\nimport i18n from 'i18next';\n\nfunction GoogleLoginButton(props) {\n  \n  const oauthInitUrl = 'https://accounts.google.com/o/oauth2/auth?' + props.oauthRequestParams.toString();\n  \n  console.log(oauthInitUrl);\n  \n  return (\n    <a href={ oauthInitUrl }>\n  \t\t<button className=\"ep-button google-branding-button\" id=\"GoogleOAuthButton\" type=\"button\" name=\"Save\" style={{\n  \t\t\tbackground: `url(${GoogleButtonBackground})`\n  \t\t}}>\n  \t\t\t{ i18n.t('components.googleLoginButton.label') }\n  \t\t</button>\n    </a>\n\t);\n}\n\nexport default GoogleLoginButton;\n","import './styles.css';\nimport './tiles.css';\nimport './custom.css';\nimport i18n from 'i18next';\nimport GoogleLoginButton from '../components/GoogleLoginButton';\n\n\nfunction Homepage(props) {\n  \n  return (\n    <div className=\"App\">\n    \n    <nav className=\"navbar navbar-expand-lg navbar-light fixed-top shadow-sm\" id=\"mainNav\">\n        <div className=\"container px-5\">\n            TODO: ePages logo...\n          \n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                Menu\n                <i className=\"bi-list\"></i>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n                <ul className=\"navbar-nav ms-auto me-4 my-3 my-lg-0\">\n                    <li className=\"nav-item\">\n                      <a className=\"nav-link me-lg-3\" href=\"#features\">\n                        { i18n.t('views.homepage.navbar.features.label') }\n                      </a>\n                    </li>\n                    <li className=\"nav-item\">\n                      <a className=\"nav-link me-lg-3\" href=\"#concept\">\n                        { i18n.t('views.homepage.navbar.concept.label') }\n                      </a>\n                    </li>\n                    <li className=\"nav-item\">\n                      <a className=\"nav-link me-lg-3\" href=\"#legal\">\n                        { i18n.t('views.homepage.navbar.legal.label') }\n                      </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n    \n    <header className=\"masthead\">\n        <div className=\"container px-5\">\n            <div className=\"row gx-5 align-items-center\">\n              <div className=\"col-lg-12\">\n                  \n                  <div className=\"mb-7 mb-lg-0 text-center text-lg-start\">\n                      <h1 className=\"display-4 lh-4 mb-6\">Google Smart Shopping App</h1>\n                      <p className=\"lead fw-normal text-muted mb-5\">\n                        { i18n.t('views.homepage.tagline.label') }\n                      </p>\n                      {\n                        props.oauthRequestParams &&\n                          <GoogleLoginButton oauthRequestParams={props.oauthRequestParams} />\n                      }\n                      \n                  </div>\n              </div>\n\n            </div>\n        </div>\n    </header>\n    \n    <aside className=\"text-center bg-gradient-primary-to-secondary\">\n        <div className=\"container px-5\">\n            <div className=\"row gx-5 justify-content-center\">\n                <div className=\"col-xl-12\">\n                  <div className=\"container-fluid p-0\">\n                    <div className=\"row no-gutters popup-gallery\">\n                      <div className=\"col-lg-4 col-sm-2\">\n                        TODO: Screenshot\n                      </div>\n                      <div className=\"col-lg-4 col-sm-2\">\n                        TODO: Screenshot\n                      </div>\n                      <div className=\"col-lg-4 col-sm-2\">\n                        TODO: Screenshot\n                      </div>\n                    </div>\n                  </div>\n                </div>\n            </div>\n        </div>\n    </aside>\n    \n    \n    <section id=\"features\">\n        <div className=\"container px-5\">\n          <div className=\"row gx-5 align-items-center\">\n              <div className=\"col-lg-12 order-lg-1 mb-5 mb-lg-0\">\n                  <div className=\"container-fluid px-5\">\n                      <div className=\"row gx-5\">\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature1.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature1.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature2.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature2.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature3.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature3.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n\n                      </div>\n                      <div className=\"row gx-5\">\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature4.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature4.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature5.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature5.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n                          <div className=\"col-md-4 mb-5\">\n                              \n                              <div className=\"text-center\">\n                                  <i className=\"bi bi-check2-square icon-feature text-gradient d-block mb-3\"></i>\n                                  <h3 className=\"font-alt\">\n                                    { i18n.t('views.homepage.feature6.heading.label') }\n                                  </h3>\n                                  <p className=\"text-muted mb-0\">\n                                    { i18n.t('views.homepage.feature6.description.label') }\n                                  </p>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n              <div className=\"col-lg-4 order-lg-0\">\n                  \n                  <div className=\"features-device-mockup\">\n                      \n                  </div>\n              </div>\n          </div>\n        </div>\n    </section>\n    \n    \n    <section id=\"concept\" className=\"bg-light\">\n        <div className=\"container px-5\">\n          <div className=\"row gx-5 align-items-center justify-content-center justify-content-lg-between\">\n            \n              <div className=\"col-12 col-lg-5\">\n                  <h2 className=\"display-4 lh-1 mb-4\">\n                    { i18n.t('views.homepage.concept.heading.label') }\n                  </h2>\n                  <p className=\"lead fw-normal text-muted mb-5 mb-lg-0\">\n                    { i18n.t('views.homepage.concept.description.label') }\n                  </p>\n              </div>\n              <div className=\"col-sm-8 col-md-6\">\n                  TODO: Concept image\n              </div>\n              \n          </div>\n\n        </div>\n    </section>\n    \n    \n    <section id=\"legal\">\n      <div className=\"container px-5\">\n          <div className=\"row gx-5 align-items-center\">\n            <div className=\"cta-content\">\n\n              <div className=\"mb-7 mb-lg-0 text-center text-lg-start\">\n                  <h2 className=\"display-4 lh-4 mb-6\">\n                    { i18n.t('views.homepage.legal.heading.label') }\n                  </h2>\n\n                  <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                      \n                        <a href=\"#\">\n                          <div className=\"tile blue\">\n                            <h3 className=\"title\"><i className=\"bi bi-file-text\"></i>\n                              { i18n.t('views.homepage.legal.privacyNotice.label') }\n                            </h3>\n                            { i18n.t('views.homepage.legal.downloadHint.label') }\n                          </div>\n                        </a>\t\t\t\t\t\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <a href=\"#\">\n                          <div className=\"tile blue\">\n                              <h3 className=\"title\"><i className=\"bi bi-file-text\"></i>\n                                { i18n.t('views.homepage.legal.termsOfUse.label') }\n                              </h3>\n                              { i18n.t('views.homepage.legal.downloadHint.label') }\n                          </div>\n                        </a>\n                    </div>  \n                  </div>\n\n              </div>\n\n\n            </div>\n          </div>\n      </div>\n        \n    </section>\n    \n    <footer className=\"bg-black text-center py-5\">\n      <div className=\"container px-5\">\n          <div className=\"text-white-50 small\">\n              <div className=\"mb-2\">{ i18n.t('views.homepage.legal.copyrightNotice.label') }</div>\n              <a href={ i18n.t('views.homepage.legal.imprintLink.label') }>{ i18n.t('views.homepage.legal.imprint.label') }</a>\n          </div>\n      </div>\n    </footer>\n    \n    </div>\n  );\n}\n\nexport default Homepage;\n","import './Redirect.css';\nimport { decodeState } from '../utils/state.js';\n\nfunction Redirect(props) {\n  \n  const oauthResponseParams = props.oauthResponseParams;\n  \n  const oauthCode = oauthResponseParams.get(\"code\");\n  const state = decodeState(oauthResponseParams.get(\"state\"));\n  \n  // If the callback doesn't have a state, then OAuth request wasn't initiated\n  // by the MBO but by a developer who wants to manually generate a token.\n  if (!state.shopRedirectUri) {\n    return (<TokenGenerationSnippet oauthCode={ oauthCode } />);\n  }\n  \n  var redirectParams = new URLSearchParams();\n  redirectParams.set('state', state.shopRedirectUri);\n  redirectParams.set('code', oauthResponseParams.get('code'));\n  redirectParams.set('scope', oauthResponseParams.get('scope'));\n  redirectParams.set('prompt', oauthResponseParams.get('prompt'));\n  \n  // TODO: Consider if we should test whether systemRedirectUri already contains a '?'.\n  const returnUrl = state.systemRedirectUri + '&' + redirectParams.toString();\n  \n  console.log(\"return url: \" + returnUrl);\n  \n  return (\n    <div className=\"App\">\n    \n\t\t\t<h1>Authentication successful</h1>\n    \n      <a href={ returnUrl }>Go back to shop</a>\n    \n    </div>\n  );\n}\n\nfunction TokenGenerationSnippet(props) {\n  const baseUrl = window.location.href.replace(/\\/\\?.*/g, '');\n  const curlSnippet =  `curl -X POST \\\\\n  -F 'code=${props.oauthCode}' \\\\\n  -F 'client_id='$GOOGLE_CLIENT_ID \\\\\n  -F 'client_secret='$GOOGLE_CLIENT_SECRET \\\\\n  -F 'redirect_uri=${baseUrl}' \\\\\n  -F 'access_type=offline' \\\\\n  -F 'grant_type=authorization_code' \\\\\n  https://accounts.google.com/o/oauth2/token\n  `;\n  \n  return (\n    <div className=\"App\">\n      <h1>Authentication successful</h1>\n      <textarea id=\"w3review\" name=\"w3review\" rows=\"10\" cols=\"100\">\n        { curlSnippet }\n      </textarea>\n    </div>\n  );\n}\n\nfunction _buildTokenGenerationSnippet(oauthCode) {\n\n}\n\nexport default Redirect;\n","// https://stackoverflow.com/a/38134374/2339010\n// https://stackoverflow.com/a/35450003/2339010\n\nfunction encodeState(state) {\n\treturn btoa(JSON.stringify(state));\n}\n\nfunction decodeState(encodedState) {\n\treturn JSON.parse(atob(encodedState));\n}\n\nexport { encodeState, decodeState };\n","\nvar getFirstBrowserLanguage = function () {\n\tvar nav = window.navigator,\n\tbrowserLanguagePropertyKeys = ['language', 'browserLanguage', 'systemLanguage', 'userLanguage'],\n\ti,\n\tlanguage;\n\n\tif (Array.isArray(nav.languages)) {\n\t\tfor (i = 0; i < nav.languages.length; i++) {\n\t\t\tlanguage = nav.languages[i];\n\t\t\tif (language && language.length) {\n\t\t\t\treturn language;\n\t\t\t}\n\t\t}\n\t}\n\tfor (i = 0; i < browserLanguagePropertyKeys.length; i++) {\n\t\tlanguage = nav[browserLanguagePropertyKeys[i]];\n\t\tif (language && language.length) {\n\t\t\treturn language;\n\t\t}\n\t}\n\treturn 'en';\n}\n\nconst LanguageDetector = {\n\ttype: 'languageDetector',\n\tinit: function(services, detectorOptions, i18nextOptions) {},\n\tdetect: function() {\n\t\treturn getFirstBrowserLanguage();\n\t},\n\tcacheUserLanguage: function(lng) {} \n};\n\nexport default LanguageDetector;\n","import Homepage from './views/Homepage';\nimport Redirect from './views/Redirect';\nimport './App.css';\nimport i18n from 'i18next';\nimport { initReactI18next } from \"react-i18next\";\nimport translationDE from './locales/de.json';\nimport translationEN from './locales/en.json';\nimport translationES from './locales/es.json';\nimport translationNL from './locales/nl.json';\nimport LanguageDetector from './utils/lang.js';\nimport { encodeState } from './utils/state.js';\n\nconst resources = {\n  de: {\n    translation: translationDE\n  },\n  en: {\n    translation: translationEN\n  },\n  es: {\n    translation: translationES\n  },\n  nl: {\n    translation: translationNL\n  }\n};\n\nfunction App() {\n  i18n\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n      resources\n    })\n  ;\n  \n  const oauthResponseParams = _oauthResponseParams();\n  \n  if (oauthResponseParams) {\n    return (\n      <div className=\"App\">\n        <Redirect oauthResponseParams={ oauthResponseParams } />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"App\">\n        <Homepage oauthRequestParams={ _oauthRequestParams() } />\n      </div>\n    );\n  }\n}\n\nfunction _oauthRequestParams() {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const accessType = urlParams.get(\"access_type\");\n  const redirectUri = urlParams.get(\"redirect_uri\");\n  const shopRedirectUri = urlParams.get(\"state\");\n  \n  if (accessType && redirectUri) {\n    urlParams.set('state', encodeState({\n      systemRedirectUri: redirectUri,\n      shopRedirectUri: shopRedirectUri\n    }));\n    urlParams.set('redirect_uri', _baseUrl());\n    return urlParams;\n  }\n}\n\nfunction _oauthResponseParams() {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const code = urlParams.get(\"code\");\n  if (code) {\n    return urlParams;\n  }\n}\n\nfunction _isRequestComingFromAuthorizationServer() {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const authorizationCode = urlParams.get(\"code\");\n  \n  return authorizationCode != null;\n}\n\nfunction _baseUrl() {\n  return window.location.href.replace(/\\/\\?.*/g, '');\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}